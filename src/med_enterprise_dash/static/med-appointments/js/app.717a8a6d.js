(function(t){function e(e){for(var r,s,o=e[0],c=e[1],u=e[2],l=0,d=[];l<o.length;l++)s=o[l],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&d.push(i[s][0]),i[s]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);h&&h(e);while(d.length)d.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],r=!0,s=1;s<n.length;s++){var o=n[s];0!==i[o]&&(r=!1)}r&&(a.splice(e--,1),t=c(c.s=n[0]))}return t}var r={},s={app:0},i={app:0},a=[];function o(t){return c.p+"js/"+({about:"about"}[t]||t)+"."+{about:"fd2f1f20","chunk-0a7c8796":"0dbc3022","chunk-40f5e256":"a04cd5a8","chunk-63beb718":"be478012"}[t]+".js"}function c(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(t){var e=[],n={about:1,"chunk-0a7c8796":1,"chunk-40f5e256":1,"chunk-63beb718":1};s[t]?e.push(s[t]):0!==s[t]&&n[t]&&e.push(s[t]=new Promise((function(e,n){for(var r="css/"+({about:"about"}[t]||t)+"."+{about:"f1e0f004","chunk-0a7c8796":"f1e0f004","chunk-40f5e256":"f1e0f004","chunk-63beb718":"f1e0f004"}[t]+".css",i=c.p+r,a=document.getElementsByTagName("link"),o=0;o<a.length;o++){var u=a[o],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===r||l===i))return e()}var d=document.getElementsByTagName("style");for(o=0;o<d.length;o++){u=d[o],l=u.getAttribute("data-href");if(l===r||l===i)return e()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=e,h.onerror=function(e){var r=e&&e.target&&e.target.src||i,a=new Error("Loading CSS chunk "+t+" failed.\n("+r+")");a.code="CSS_CHUNK_LOAD_FAILED",a.request=r,delete s[t],h.parentNode.removeChild(h),n(a)},h.href=i;var f=document.getElementsByTagName("head")[0];f.appendChild(h)})).then((function(){s[t]=0})));var r=i[t];if(0!==r)if(r)e.push(r[2]);else{var a=new Promise((function(e,n){r=i[t]=[e,n]}));e.push(r[2]=a);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=o(t);var d=new Error;u=function(e){l.onerror=l.onload=null,clearTimeout(h);var n=i[t];if(0!==n){if(n){var r=e&&("load"===e.type?"missing":e.type),s=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+r+": "+s+")",d.name="ChunkLoadError",d.type=r,d.request=s,n[1](d)}i[t]=void 0}};var h=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(e)},c.m=t,c.c=r,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)c.d(n,r,function(e){return t[e]}.bind(null,r));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="appointments_alternate/static/",c.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=e,u=u.slice();for(var d=0;d<u.length;d++)e(u[d]);var h=l;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"3c0d":function(t,e,n){"use strict";n("a74c")},5034:function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("NavBar"),n("AlertBlock",{attrs:{errorPrompt:t.errorPrompt}}),n("StateFilters"),n("router-view"),t.devmode?n("pre",[t._v(t._s(t.sdState))]):t._e()],1)},i=[],a=(n("d3b7"),n("5530")),o=n("2f62"),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("router-link",{attrs:{to:"/"}},[t._v("Appointments")]),t._v(" | "),n("router-link",{attrs:{to:"/search"}},[t._v("Search")]),t._v(" | "),n("router-link",{attrs:{to:"/about"}},[t._v("About")])],1)},u=[],l={name:"NavBar"},d=l,h=n("2877"),f=Object(h["a"])(d,c,u,!1,null,"62fe6e60",null),p=f.exports,m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return!t.browserPasses||t.errorPrompt?n("div",{staticClass:"alert alert-danger"},[n("strong",[t._v("Warning")]),t.browserPasses?t._e():n("p",[t._v(" This browser does not work here. You might need to try a modern browser. ")]),t.errorPrompt?n("p",[t._v(t._s(t.errorPrompt))]):t._e()]):t._e()},v=[],g={name:"AlertBlock",props:["errorPrompt"],computed:{browserPasses:function(){return"fetch"in window}}},_=g,b=Object(h["a"])(_,m,v,!1,null,"56928c78",null),w=b.exports,y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("form",{staticClass:"form-inline",on:{submit:function(t){t.preventDefault()}}},[n("div",{staticClass:"form-group"},[n("span",{staticClass:"glyphicon glyphicon-chevron-right"}),n("select",{directives:[{name:"model",rawName:"v-model",value:t.filters.teamId,expression:"filters.teamId"}],staticClass:"form-control",on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.filters,"teamId",e.target.multiple?n:n[0])},function(e){return t.changeTeam(e)}]}},[n("option",{attrs:{value:""}},[t._v("Choose Team")]),t._l(t.teams,(function(e){return n("option",{key:e.id,domProps:{value:e.id}},[t._v(" "+t._s(e.name))])}))],2)]),t.filters.teamId&&t.users?n("div",{staticClass:"form-group",on:{submit:function(t){t.preventDefault()}}},[n("span",{staticClass:"glyphicon glyphicon-chevron-right"}),n("select",{directives:[{name:"model",rawName:"v-model",value:t.filters.userId,expression:"filters.userId"}],staticClass:"form-control",on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.filters,"userId",e.target.multiple?n:n[0])},function(e){return t.changeUser(e)}]}},[n("option",{attrs:{value:""}},[t._v("Users (All)")]),t._l(t.users,(function(e){return n("option",{key:e.id,domProps:{value:e.id}},[t._v(" "+t._s(e.name))])}))],2)]):t._e(),n("div",{staticClass:"form-group"},[n("span",{staticClass:"glyphicon glyphicon-chevron-right"}),n("span",[t._v(t._s(t.filters.date?t.getDateUsc(t.filters.date):"Today"))]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.date,expression:"filters.date"}],staticClass:"form-control",attrs:{type:"date",placeholder:"'mm/dd/yyyy'"},domProps:{value:t.filters.date},on:{change:function(e){return t.changeDate(e)},input:function(e){e.target.composing||t.$set(t.filters,"date",e.target.value)}}})]),n("div",{staticClass:"form-group"},[n("span",{staticClass:"glyphicon glyphicon-chevron-right"}),n("DropDownWithAnchors",{attrs:{theClass:"form-group",label:"External Resources",links:[{id:"1",value:"https://example.com/",name:"link1"},{id:"2",value:"https://example.com/",name:"link2"},{id:"3",value:"https://example.com/",name:"link3"},{id:"4",value:"https://example.com/",name:"link4"},{id:"5",value:"https://example.com/",name:"link5"},{id:"6",value:"https://example.com/",name:"link6"},{id:"7",value:"https://example.com/",name:"link7"}]}})],1),n("div",{directives:[{name:"show",rawName:"v-show",value:t.allowDevmode,expression:"allowDevmode"}],staticClass:"form-group"},[n("span",{staticClass:"glyphicon glyphicon-chevron-right"}),n("button",{staticClass:"btn",class:{"btn-danger":!t.devmode,"btn-success":t.devmode},attrs:{type:"button"},on:{click:function(e){return t.toggleDevMode()}}},[n("span",{staticClass:"glyphicon glyphicon-alert"}),t._v(" "+t._s(t.devmode?"Disable":"Enable")+" Dev Mode ")])]),n("div",{staticClass:"form-group"},[n("span",{staticClass:"glyphicon glyphicon-chevron-right"}),n("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.refresh()}}},[n("span",{staticClass:"glyphicon glyphicon-refresh"})])])])])},C=[],S=(n("99af"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.theClass},[n("button",{staticClass:"btn btn-default",on:{click:function(e){return t.toggle()},blur:function(e){return t.debounce()}}},[t._v(" "+t._s(t.label)+" "),n("span",{staticClass:"caret"})]),n("div",{on:{focus:function(e){return t.hold()}}},[n("ul",{directives:[{name:"show",rawName:"v-show",value:t.showing,expression:"showing"}],staticClass:"ddown",on:{focus:function(e){return t.hold()}}},t._l(t.links,(function(e){return n("li",{key:e.id,on:{focus:function(e){return t.hold()}}},[e.value?n("a",{attrs:{href:e.value,target:"_blank",rel:"noopener"},on:{focus:function(e){return t.hold()},blur:function(e){return t.debounce()}}},[t._v(" "+t._s(e.name)+" ")]):t._e()])})),0)])])}),k=[],P={name:"DropDownWithAnchors",props:["label","links","theClass"],data:function(){return{holding:!1,showing:!1,timer:""}},methods:{hold:function(){clearTimeout(this.timer),this.holding=!0},debounce:function(){this.holding=!1,clearTimeout(this.timer),this.timer=setTimeout(function(){this.showing=this.holding}.bind(this),100)},toggle:function(){this.showing=!this.showing}}},A=P,O=(n("e1e3"),Object(h["a"])(A,S,k,!1,null,"f9f0c9dc",null)),I=O.exports,U={name:"StateFilters",components:{DropDownWithAnchors:I},methods:Object(a["a"])(Object(a["a"])({},Object(o["c"])(["updateApi","updateUsers","updateCurrentUser","updateFilters","updateRefresh","toggleDevMode"])),{},{changeTeam:function(t){this.runtimevals.filters.teamId=t.target.value,this.getFilters(this.stateQueryString),this.runtimevals.users="",this.getUsers()},changeUser:function(t){this.runtimevals.filters.userId=t.target.value,this.getFilters(this.stateQueryString)},changeDate:function(t){this.runtimevals.filters.date=t.target.value,this.getFilters(this.stateQueryString)},getDateUsc:function(t){return new Date("".concat(t,"T00:00:00")).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})},getData:function(t,e,n,r,s){t?fetch(t).then((function(t){return t.json()})).then((function(t){t?e[n][r]=t:e[s]="Response failed."})).catch((function(t){e[s]="Request failed. ".concat(t)})):e[s]="No configuration foo."},getFilters:function(t){this.getData(this.api.filters+t,this,"runtimevals","filters","errorPrompt")},getUsers:function(){this.getData(this.api.users,this,"runtimevals","users","errorPrompt")},refresh:function(){this.updateRefresh(new Date)}}),mounted:function(){this.updateApi(JSON.parse(document.getElementById("frontEndWiring").textContent).api),this.getFilters(""),this.getData(this.api.currentUser,this,"runtimevals","currentUser","errorPrompt"),this.getUsers()},computed:Object(a["a"])({filters:function(){return this.runtimevals.filters},users:function(){return this.runtimevals.users},currentUser:function(){return this.runtimevals.currentUser},stateQueryString:function(){return"?teamId=".concat(this.runtimevals.filters.teamId,"&pickOwner=").concat(this.runtimevals.filters.userId,"&pickDay=").concat(this.runtimevals.filters.date)},teams:function(){return this.currentUser.teams}},Object(o["b"])(["api","devmode"])),data:function(){return{allowDevmode:!1,errorPrompt:"",runtimevals:{filters:"",currentUser:"",users:""}}},watch:{filters:function(){this.updateFilters(this.filters)},users:function(){this.updateUsers(this.users)},currentUser:function(){this.updateCurrentUser(this.currentUser)}}},D=U,N=Object(h["a"])(D,y,C,!1,null,"024e398c",null),R=N.exports,T={name:"App",components:{AlertBlock:w,NavBar:p,StateFilters:R},computed:Object(a["a"])({browserPasses:function(){return"fetch"in window}},Object(o["b"])(["sdState","devmode","errorPrompt"]))},x=T,j=Object(h["a"])(x,s,i,!1,null,"6c4aaa00",null),F=j.exports,E=n("8c4f"),$=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.detail?t._e():n("div",[n("TableAppointments",{attrs:{allowRefresh:!1,api:t.api,appts:t.appointments,currentUserId:t.currentUserId,devmode:t.devmode,filters:"scheduled checked",loading:t.loading,searchState:t.searchStateQueued,teamsForUser:t.teamsForUser,title:"Queue",users:t.users},on:{updateDetail:function(e){return t.updateDetail(e)},updateSearchState:function(e){return t.updateSearchStateQueued(e)},refresh:function(e){return t.getAppointments()}}}),n("TableAppointments",{attrs:{allowRefresh:!1,api:t.api,appts:t.appointments,currentUserId:t.currentUserId,devmode:t.devmode,filters:"active",loading:t.loading,searchState:t.searchStateActive,teamsForUser:t.teamsForUser,title:"In Progress",users:t.users},on:{updateDetail:function(e){return t.updateDetail(e)},updateSearchState:function(e){return t.updateSearchStateActive(e)},refresh:function(e){return t.getAppointments()}}}),n("TableAppointments",{attrs:{allowRefresh:!1,api:t.api,appts:t.appointments,currentUserId:t.currentUserId,devmode:t.devmode,filters:"cancel finished no-show",loading:t.loading,searchState:t.searchStateFinished,teamsForUser:t.teamsForUser,title:"Completed",users:t.users},on:{updateDetail:function(e){return t.updateDetail(e)},updateSearchState:function(e){return t.updateSearchStateFinished(e)},refresh:function(e){return t.getAppointments()}}})],1),t.detail?n("div",[n("Quickview",{attrs:{currentUserId:t.currentUserId,detail:t.detail,hasPermission:t.hasPermission(t.detail.teamId),devmode:t.devmode,reassign:t.api.reassign,takebegin:t.api.takebegin,apptUsers:t.api.apptUsers},on:{closeSummary:function(e){return t.closeSummary()},refresh:function(e){return t.getAppointments()}}})],1):t._e()])},B=[],L=(n("caad"),n("d81d"),n("2532"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.hasData?n("div",[n("h1",[t._v("Appointments "+t._s(t.title))]),t.detail?t._e():n("div",[n("div",{staticClass:"mfsw-row",attrs:{"aria-label":"Table Widgets, Section 1"}},[n("div",{staticClass:"column left"},[n("label",[t._v("Show "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.limit,expression:"limit"}],attrs:{"aria-controls":"queueRange"},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.limit=e.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"5"}},[t._v("5")]),n("option",{attrs:{value:"10"}},[t._v("10")]),n("option",{attrs:{value:"25"}},[t._v("25")]),n("option",{attrs:{value:"50"}},[t._v("50")]),n("option",{attrs:{value:"100"}},[t._v("100")])]),t._v(" entries ")])]),n("div",{staticClass:"column right"},[n("label",[t._v("Filter Results: "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],attrs:{type:"search","aria-controls":"queueRange"},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}})]),n("span"),n("button",{staticClass:"btn",class:{"btn-success":t.filterAnd,"btn-default":!t.filterAnd},attrs:{type:"button"},on:{click:function(e){return t.toggleFilterAnd()}}},[t._v(" "+t._s(t.filterAnd?"Requiring All":"Matching Any")+" ")]),t.allowRefresh?n("div",[n("span"),n("button",{staticClass:"btn btn-primary",on:{click:t.getAppointments}},[n("span",{staticClass:"glyphicon glyphicon-refresh"})])]):t._e()])]),n("table",{staticClass:"table",attrs:{"aria-label":"Table"}},[t._m(0),t._l(t.output,(function(e,r){return n("tbody",{key:r},[n("tr",[n("td",[n("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:function(n){t.detail=e}}},[n("span",{staticClass:"glyphicon glyphicon-search"})]),t._v(" "+t._s(e.time)+" ")]),e.contactId?n("td",[n("router-link",{attrs:{to:{name:"Record",params:{id:e.contactId}}}},[t._v(t._s(e.name))])],1):n("td",[t._v(t._s(e.name))]),n("td",[t._v(t._s(e.ownerName))]),n("td",[t._v(t._s(e.teamName))]),n("td",[t._v(t._s(e.interactionOwnerName))]),n("td",[e.interactionId?n("router-link",{staticClass:"btn btn-primary",attrs:{to:{name:"Appointment",params:{id:e.interactionId}}}},[n("span",{staticClass:"glyphicon glyphicon-link"})]):t._e(),t._v(" "+t._s(e.subject)+" ")],1),t.hasPermission(e.teamId)?n("td",[n("span",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},[t._v(t._s(e.condition)+","+t._s(e.id))]),n("DropDownWithActions",{attrs:{condition:e.condition,id:e.id,endpoint:t.api.updateCondition,actions:[{id:"1",value:"reset",name:"Reset",result:"Scheduled"},{id:"2",value:"checkin",name:"Check-in",result:"Checked In"},{id:"3",value:"begin",name:"Begin",result:"Active"},{id:"4",value:"finish",name:"Finish",result:"Finished"},{id:"5",value:"cancel",name:"Cancel",result:"Canceled"},{id:"6",value:"noshow",name:"Noshow",result:"No-show"}]},on:{update:function(t){return e.condition=t}}})],1):n("td",[t._v(t._s(e.condition))])])])}))],2),n("div",{staticClass:"mfsw-row",attrs:{"aria-label":"Table Widgets, Section 2"}},[n("div",{staticClass:"column left"},[t._v(" Showing "+t._s(t.entryBeg)+" to "+t._s(t.entryEnd)+" of "+t._s(t.entryNum)+" entries ")]),n("div",{staticClass:"column right"},[n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.prevPage()}}},[t._v("Prev")]),t._v(" "),n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.nextPage()}}},[t._v("Next")]),n("span",[t._v(" Page "+t._s(t.currentFiltered)+"/"+t._s(t.sizeFiltered)+" ")])])])]),n("br"),n("br"),n("br")]):n("div",[n("h1",[t._v("No data for "+t._s(t.title))]),n("div",{staticClass:"alert alert-info"},[n("p",[t._v(t._s(t.loadingPrompt))])]),t.allowRefresh?n("button",{staticClass:"btn btn-warning btn-block",on:{click:t.getAppointments}},[n("span",{staticClass:"glyphicon glyphicon-refresh"}),n("span",[t._v(" Refresh")])]):t._e()])}),M=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",[t._v("Time")]),n("th",[t._v("Student")]),n("th",[t._v("Here to see")]),n("th",[t._v("On Team")]),n("th",[t._v("Meeting with")]),n("th",[t._v("Subject")]),n("th",[t._v("Status")])])])}],q=(n("a623"),n("4de4"),n("c975"),n("fb6a"),n("45fc"),n("07ac"),n("ac1f"),n("841c"),n("1276"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",[n("button",{staticClass:"btn",class:t.btnClass,on:{click:function(e){return t.toggle()},blur:function(e){return t.debounce()}}},[t._v(" "+t._s(t.btnLabel)+" "),n("span",{class:t.btnStatus})]),n("div",{on:{focus:function(e){return t.hold()}}},[n("ul",{directives:[{name:"show",rawName:"v-show",value:t.showing,expression:"showing"}],staticClass:"ddown",on:{focus:function(e){return t.hold()}}},t._l(t.actions,(function(e){return n("li",{key:e.id,on:{focus:function(e){return t.hold()}}},[n("a",{attrs:{href:"#","data-value":e.value,"data-result":e.result},on:{focus:function(e){return t.hold()},blur:function(e){return t.debounce()},click:function(e){return e.stopPropagation(),e.preventDefault(),t.doAction(e)},keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"space",32,e.key,[" ","Spacebar"])?null:t.doAction(e)}}},[t._v(" "+t._s(e.name)+" ")])])})),0)])])])}),Q=[],W={name:"DropDownWithActions",props:["actions","condition","endpoint","id"],mounted:function(){this.initData()},data:function(){return{blob:"",errorPrompt:"",holding:!1,pristine:!0,showing:!1,status:"",timer:"",updating:!1}},computed:{btnClass:function(){return this.updating?"btn-default":"Scheduled"===this.status?"btn-primary":"Checked In"===this.status?"btn-success":"Active"===this.status?"btn-info":"Canceled"===this.status||"Finished"===this.status||"No-show"===this.status?"btn-warning":"btn-danger"},btnLabel:function(){return this.updating?"Loading...":this.status},btnStatus:function(){return this.updating?"glyphicon glyphicon-transfer":this.errorPrompt?"glyphicon glyphicon-alert":this.status===this.condition&&this.pristine?"caret":"glyphicon glyphicon-saved"}},methods:{hold:function(){clearTimeout(this.timer),this.holding=!0},debounce:function(){this.holding=!1,clearTimeout(this.timer),this.timer=setTimeout(function(){this.showing=this.holding}.bind(this),100)},toggle:function(){this.showing=!this.showing},doAction:function(t){var e=this;this.pristine=!1,this.updating=!0,this.showing=!1,this.holding=!1;var n={id:this.id,condition:t.target.dataset.value};this.endpoint?fetch(this.endpoint,{method:"POST",cache:"no-cache",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(t){return t.json()})).then((function(n){n&&"success"===n.status?(e.blob=n,e.status=t.target.dataset.result,e.$emit("update",e.status),e.updating=!1):(e.errorPrompt="Response failed.",e.updating=!1)})).catch((function(t){e.errorPrompt="Request failed. ".concat(t),e.updating=!1})):(this.errorPrompt="No configuration.",this.updating=!1)},initData:function(){this.blob="",this.errorPrompt="",this.holding=!1,this.showing=!1,this.status=this.condition,this.timer="",this.updating=!1,this.pristine=!0}},watch:{condition:function(){this.initData()},id:function(){this.initData()},blob:function(){console.info("blob"),console.info(JSON.stringify(this.blob))},errorPrompt:function(){console.info("errs"),console.error(JSON.stringify(this.errorPrompt))}}},J=W,H=(n("3c0d"),Object(h["a"])(J,q,Q,!1,null,"14de86ba",null)),z=H.exports,K={name:"TableAppointments",props:["allowRefresh","api","appts","currentUserId","devmode","filters","loading","searchState","teamsForUser","title","users"],components:{DropDownWithActions:z},computed:{subSearch:function(){return this.search.split(" ",this.subStringMax).filter((function(t){return t}))},subFilter:function(){return this.filters.split(" ",this.subStringMax).filter((function(t){return t}))},currentId:function(){return this.detail.id},hasDataLogic:function(){return function(t){return function(e){return function(n){return t&&t.length>0&&e&&n}}}},hasData:function(){return this.hasDataLogic(this.appts)(this.api)(this.currentUserId)},numFiltered:function(){return this.getRange.length},sizeFiltered:function(){return Math.floor(this.numFiltered/this.limit)+(this.numFiltered%this.limit>0?1:0)},currentFiltered:function(){return this.offset+1},output:function(){return this.getRange.slice(this.entryOff,this.entryEnd)},getRangeSubFilter:function(){return function(t){return function(e){return!t||t.length<1||t.some((function(t){return e.condition.toLowerCase().indexOf(t.toLowerCase())>-1}))}}},getRangeSubSearchAnd:function(){return function(t){return function(e){return!t||t.length<1||t.every((function(t){return Object.values(e).some((function(e){return e.toLowerCase().indexOf(t.toLowerCase())>-1}))}))}}},getRangeSubSearchIor:function(){return function(t){return function(e){return!t||t.length<1||t.some((function(t){return Object.values(e).some((function(e){return e.toLowerCase().indexOf(t.toLowerCase())>-1}))}))}}},getRange:function(){var t=this;return this.appts&&this.appts[0]?this.filterAnd?this.appts.filter((function(e){return t.getRangeSubFilter(t.subFilter)(e)})).filter((function(e){return t.getRangeSubSearchAnd(t.subSearch)(e)})):this.appts.filter((function(e){return t.getRangeSubFilter(t.subFilter)(e)})).filter((function(e){return t.getRangeSubSearchIor(t.subSearch)(e)})):this.appts},entryNum:function(){return this.getRange.length},entryPos:function(){return this.offset<0?0:this.offset>this.entryNum/this.limit?Math.floor(this.entryNum/this.limit):this.offset},entryOff:function(){return this.entryPos*this.limit},entryBeg:function(){return this.entryOff+1},entryMod:function(){return(this.entryNum-this.entryOff)%this.limit},entryEnd:function(){return 1*(this.entryNum-this.entryOff<this.limit?this.entryMod:this.limit)+this.entryOff}},data:function(){return{detail:"",filterAnd:!0,loadingPrompt:"",limit:25,mode:"table",offset:0,search:""}},methods:{toggleFilterAnd:function(){this.filterAnd=!this.filterAnd},hasPermission:function(t){return this.teamsForUser.map((function(t){return 1*t})).includes(1*t)},getAppointments:function(){this.$emit("refresh")},prevPage:function(){this.offset>0&&--this.offset},nextPage:function(){this.currentFiltered<this.sizeFiltered&&++this.offset},updateLoadingPrompt:function(){var t=this;this.loadingPrompt="Loading...",this.loading||setTimeout((function(){t.loadingPrompt="No data to display."}),2e3)}},mounted:function(){this.updateLoadingPrompt(),this.search=this.searchState},watch:{search:function(){this.offset=0,this.$emit("updateSearchState",this.search)},detail:function(){this.$emit("updateDetail",this.detail)},loading:function(){this.updateLoadingPrompt()}}},Y=K,G=(n("f9cd"),Object(h["a"])(Y,L,M,!1,null,"6ea3da35",null)),V=G.exports,X=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"overlay"},[n("div",{staticClass:"summary"},[n("h1",[t._v("Appointment/Interaction Summary")]),n("button",{staticClass:"btn btn-danger btn-block",attrs:{type:"button"},on:{click:function(e){return t.closeSummary()}}},[n("span",{staticClass:"glyphicon glyphicon-remove"}),t._v(" Done ")]),n("hr"),n("div",{staticClass:"mfsw-row"},[n("div",{staticClass:"column"},[t.detail.contactId?n("p",[n("router-link",{attrs:{to:{name:"Record",params:{id:t.detail.contactId}}}},[t._v(" "+t._s(t.detail.contactName)+" ")])],1):n("p",[t._v(t._s(t.detail.name))])])]),n("div",{staticClass:"mfsw-row"},[t._m(0),n("div",{staticClass:"column right"},[n("span",[t._v(t._s(t.detail.teamName))])])]),n("div",{staticClass:"mfsw-row"},[t._m(1),n("div",{staticClass:"column right"},[n("span",[t._v(t._s(t.detail.id))])])]),n("div",{staticClass:"mfsw-row"},[t._m(2),n("div",{staticClass:"column right"},[n("span",[t._v(t._s(t.detail.interactionId))])])]),n("div",{staticClass:"mfsw-row"},[t._m(3),n("div",{staticClass:"column right"},[n("span",[t._v(t._s(t.detail.apptType))])])]),n("div",{staticClass:"mfsw-row"},[t._m(4),n("div",{staticClass:"column right"},[n("span",[t._v(t._s(t.detail.interactionCreatedOn))])])]),n("div",{staticClass:"mfsw-row"},[t._m(5),n("div",{staticClass:"column right"},[n("span",[t._v(t._s(t.detail.ownerName))]),t._v(" "),t.hasPermission?n("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:function(e){t.reassigning=!t.reassigning}}},[n("span",{staticClass:"glyphicon glyphicon-edit"})]):t._e(),n("form",{directives:[{name:"show",rawName:"v-show",value:t.reassigning,expression:"reassigning"}],on:{submit:function(t){t.preventDefault()}}},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.reassignOwnerId,expression:"reassignOwnerId"}],staticClass:"form-control",on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.reassignOwnerId=e.target.multiple?n:n[0]}}},[n("option",{attrs:{value:""}},[t._v("Choose One")]),t._l(t.users,(function(e){return n("option",{key:e.id,domProps:{value:e.id}},[t._v(" "+t._s(e.name))])}))],2),n("button",{directives:[{name:"show",rawName:"v-show",value:t.reassignOwnerId,expression:"reassignOwnerId"}],staticClass:"btn btn-warning",attrs:{type:"button",disabled:t.loadingReassign},on:{click:function(e){return t.reassignAppointment()}}},[n("span",{class:t.reassignClass}),t._v(" Reassign Appointment ")])])])]),n("div",{staticClass:"mfsw-row"},[t._m(6),n("div",{staticClass:"column right"},[n("span",[t._v(t._s(t.detail.interactionOwnerName))])])]),n("div",{staticClass:"mfsw-row"},[t._m(7),n("div",{staticClass:"column right"},[n("span",[t._v(t._s(t.detail.major))])])]),n("div",{staticClass:"mfsw-row"},[t._m(8),n("div",{staticClass:"column right"},[n("span",[t._v(t._s(t.detail.preprof))])])]),n("div",{staticClass:"mfsw-row"},[t._m(9),n("div",{staticClass:"column right"},[n("span",[t._v(t._s(t.detail.honors))])])]),n("div",{staticClass:"mfsw-row"},[t._m(10),n("div",{staticClass:"column right"},[n("span",[t._v(t._s(t.detail.gradExpected))])])]),n("div",{staticClass:"mfsw-row"},[t._m(11),n("div",{staticClass:"column right"},[n("span",[t._v(t._s(t.detail.condition))])])]),n("div",{staticClass:"mfsw-row"},[t._m(12),n("div",{staticClass:"column right"},[n("span",[t._v(t._s(t.detail.subject))]),t._v(" "),n("router-link",{directives:[{name:"show",rawName:"v-show",value:t.detail.interactionId,expression:"detail.interactionId"}],staticClass:"btn btn-primary",attrs:{to:{name:"Appointment",params:{id:t.detail.interactionId}}}},[n("span",{staticClass:"glyphicon glyphicon-link"})])],1)]),n("div",{staticClass:"mfsw-row"},[t._m(13),n("div",{staticClass:"column right"},[n("span",[t._v(t._s(t.detail.name))])])]),n("div",{staticClass:"mfsw-row"},[t._m(14),n("div",{staticClass:"column right"},[n("span",[t._v(t._s(t.detail.reasons))])])]),n("div",{staticClass:"mfsw-row"},[t._m(15),n("div",{staticClass:"column right"},[n("span",[t._v(t._s(t.detail.notes))])])]),n("div",{staticClass:"mfsw-row"},[t._m(16),n("div",{staticClass:"column right"},[n("span",[t._v(t._s(t.detail.startOn))])])]),n("hr"),t.hasPermission?n("button",{staticClass:"btn btn-success btn-block",attrs:{type:"button",disabled:t.loadingTakeBegin},on:{click:function(e){return t.takeBegin()}}},[n("span",{class:t.takeBeginClass}),n("span",[t._v("Begin Session")])]):t._e()]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.devmode,expression:"devmode"}]},[t.blob?n("pre",[t._v(t._s(t.blob))]):t._e(),t.errorPrompt?n("pre",[t._v(t._s(t.errorPrompt))]):t._e()])])},Z=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"column left"},[n("strong",[t._v("Team")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"column left"},[n("strong",[t._v("Appointment")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"column left"},[n("strong",[t._v("Interaction")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"column left"},[n("strong",[t._v("Here for")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"column left"},[n("strong",[t._v("Signed in at")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"column left"},[n("strong",[t._v("Here to see")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"column left"},[n("strong",[t._v("Meeting with")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"column left"},[n("strong",[t._v("Major asserted")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"column left"},[n("strong",[t._v("Preprof asserted")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"column left"},[n("strong",[t._v("Honors asserted")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"column left"},[n("strong",[t._v("Expected grad")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"column left"},[n("strong",[t._v("State")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"column left"},[n("strong",[t._v("Subject")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"column left"},[n("strong",[t._v("Name")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"column left"},[n("strong",[t._v("Reasons")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"column left"},[n("strong",[t._v("Notes")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"column left"},[n("strong",[t._v("Appointment Start")])])}],tt={name:"Quickview",props:["apptUsers","currentUserId","detail","devmode","hasPermission","reassign","takebegin"],data:function(){return{loadingReassign:!1,loadingTakeBegin:!1,reassigning:!1,reassignOwnerId:"",blob:"",errorPrompt:"",users:""}},computed:{reassignClass:function(){return this.loadingReassign?"glyphicon glyphicon-transfer":"glyphicon glyphicon-check"},takeBeginClass:function(){return this.loadingTakeBegin?"glyphicon glyphicon-transfer":"glyphicon glyphicon-forward"}},methods:{closeSummary:function(){this.reassigning=!1,this.reassignOwnerId="",this.$emit("closeSummary")},getUsers:function(t){var e=this,n=this.apptUsers;n?fetch("".concat(n,"?apptUsersTeamId=").concat(t)).then((function(t){return t.json()})).then((function(t){t?e.users=t:e.errorPrompt="Response failed."})).catch((function(t){e.errorPrompt="Request failed. ".concat(t)})):this.errorPrompt="No configuration for Users."},reassignAppointment:function(){var t=this,e=this.reassign,n={id:this.detail.id,ownerId:this.reassignOwnerId};this.loadingReassign=!0,e?fetch(e,{method:"POST",cache:"no-cache",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(t){return t.json()})).then((function(e){e&&"success"===e.status?(t.blob=e,t.$emit("refresh"),setTimeout(function(){this.loadingReassign=!1}.bind(t),1e3)):(t.errorPrompt="Response failed.",t.loadingReassign=!1)})).catch((function(e){t.errorPrompt="Request failed. ".concat(e),t.loadingReassign=!1})):(this.errorPrompt="No configuration.",this.loadingReassign=!1)},takeBegin:function(){var t=this,e=this.takebegin,n={id:this.detail.id,ownerId:this.currentUserId};this.loadingTakeBegin=!0,e?fetch(e,{method:"POST",cache:"no-cache",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(t){return t.json()})).then((function(e){e&&"success"===e.status&&e.appointment.interactionId?(t.blob=e,setTimeout(function(){this.$router.push({name:"Appointment",params:{id:e.appointment.interactionId}}),this.loadingTakeBegin=!1}.bind(t),1e3)):(t.errorPrompt="Response failed.",t.loadingTakeBegin=!1)})).catch((function(e){t.errorPrompt="Request failed. ".concat(e),t.loadingTakeBegin=!1})):(this.errorPrompt="No configuration.",this.loadingTakeBegin=!1)}},mounted:function(){this.getUsers(this.detail.teamId)}},et=tt,nt=(n("8181"),Object(h["a"])(et,X,Z,!1,null,"6976413a",null)),rt=nt.exports,st={name:"appointments",components:{TableAppointments:V,Quickview:rt},computed:Object(a["a"])({teamsForUser:function(){return this.currentUser?this.currentUser.teams.map((function(t){return t.id})):[]},appointments:function(){return this.runtimevals.appointments},currentUserId:function(){return this.currentUser?this.currentUser.id:""}},Object(o["b"])(["api","currentUser","devmode","refresh","searchStateQueued","searchStateActive","searchStateFinished","users"])),methods:Object(a["a"])(Object(a["a"])({},Object(o["c"])(["updateErrorPrompt","updateSearchStateQueued","updateSearchStateActive","updateSearchStateFinished"])),{},{hasPermission:function(t){return this.teamsForUser.map((function(t){return 1*t})).includes(1*t)},updateDetail:function(t){this.detail=t},closeSummary:function(){this.detail=""},startTimer:function(){var t=this;this.timer=setInterval((function(){t.getAppointments()}),6e4)},getAppointments:function(){function t(t,e,n,r,s){e["loading"]=!0,t?fetch(t).then((function(t){return t.json()})).then((function(t){t?(e[n][r]=t,e["loading"]=!1):(e[s]="Response failed.",e["loading"]=!1)})).catch((function(t){e[s]="Request failed. ".concat(t),e["loading"]=!1})):(e[s]="No configuration.",e["loading"]=!1)}t(this.api.appointments,this,"runtimevals","appointments","errorPrompt")}}),mounted:function(){this.getAppointments(),this.startTimer()},data:function(){return{detail:"",errorPrompt:"",loading:!1,runtimevals:{appointments:""},timer:""}},watch:{errorPrompt:function(){this.updateErrorPrompt(this.errorPrompt)},refresh:function(){this.getAppointments()}}},it=st,at=Object(h["a"])(it,$,B,!1,null,"65d545fe",null),ot=at.exports;r["a"].use(E["a"]);var ct=[{path:"/",name:"Appointments",component:ot},{path:"/about",name:"About",component:function(){return n.e("about").then(n.bind(null,"f820"))}},{path:"/search",name:"Search",component:function(){return n.e("chunk-63beb718").then(n.bind(null,"2d3b"))}},{path:"/record",redirect:"/search"},{path:"/record/:id",name:"Record",component:function(){return n.e("chunk-0a7c8796").then(n.bind(null,"43ef"))}},{path:"/appointment",redirect:"/"},{path:"/appointment/:id",name:"Appointment",component:function(){return n.e("chunk-40f5e256").then(n.bind(null,"cccc"))}}],ut=new E["a"]({routes:ct}),lt=ut;r["a"].use(o["a"]);var dt=new o["a"].Store({state:{api:"",currentUser:"",detail:"",devmode:!1,errorPrompt:"",filters:{date:"",teamId:"",userId:""},refresh:"",searchState:{queued:"",active:"",finished:""},users:""},mutations:{updateApi:function(t,e){t.api=e},updateUsers:function(t,e){t.users=e},updateCurrentUser:function(t,e){t.currentUser=e},updateErrorPrompt:function(t,e){t.errorPrompt=e},updateFilters:function(t,e){t.filters=e},updateRefresh:function(t,e){t.refresh=e},updateSearchStateQueued:function(t,e){t.searchState.queued=e},updateSearchStateActive:function(t,e){t.searchState.active=e},updateSearchStateFinished:function(t,e){t.searchState.finished=e},toggleDevMode:function(t){t.devmode=!t.devmode}},getters:{api:function(t){return t.api},currentUser:function(t){return t.currentUser},detail:function(t){return t.detail},devmode:function(t){return t.devmode},errorPrompt:function(t){return t&&t.errorPrompt?t.errorPrompt:""},refresh:function(t){return t&&t.refresh?t.refresh:""},sdState:function(t){return t},searchStateQueued:function(t){return t.searchState.queued},searchStateActive:function(t){return t.searchState.active},searchStateFinished:function(t){return t.searchState.finished},users:function(t){return t.users}},actions:{}});r["a"].config.productionTip=!1,new r["a"]({router:lt,store:dt,render:function(t){return t(F)}}).$mount("#app")},8181:function(t,e,n){"use strict";n("f195")},"9a0f":function(t,e,n){},a74c:function(t,e,n){},e1e3:function(t,e,n){"use strict";n("5034")},f195:function(t,e,n){},f9cd:function(t,e,n){"use strict";n("9a0f")}});
//# sourceMappingURL=app.717a8a6d.js.map